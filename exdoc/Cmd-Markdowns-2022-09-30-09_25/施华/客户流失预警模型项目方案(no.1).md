# 客户流失预警模型项目方案(no.1)

标签（空格分隔）： 施华

---

# **1.思路与大体流程**

基于上海昊基的数据训练模型，大致从两个方面做，有规则的用有监督模型对目标客户进行预测，给出一个流失概率；无规则的用无监督模型对目标客户进行聚类，给出各个客户群的模式特征(有无规则是说针对给目标客户打标签时，是否明确定义了规则)。这样，我们在知道了目标客户的流失概率后，还可以进一步知道他是哪一种类型的客户，具有什么特点。

# **2.模型构建的具体流程**

## **2.1 数据清洗与处理(已处理，需要了解各个字段的意义)**

+ 数据集切分，训练集，测试集，验证集。
+ 数据筛选，可用指标如IV，模型如树模型来进行筛选。
+ 数据缺失值处理，聚类算法如knn，统计算法如EM算法，模型预测算法如多重插补。

## **2.2 构建有监督模型**

+ 给出一系列的明确规则，根据这些规则去获取符合条件的客户，在数据集中添加标签。
+ 利用树模型的信息熵去筛选变量，比如利用随机森林或者XGBOOST中的重要度指标来筛选变量。
+ 尝试不同类型的模型，线性模型采用Logistic回归，树模型bagging采用随机森林，树模型boosting采用xgboost,深度学习模型尝试设计一类神经网络(具体那种类型神经网络需要继续深入业务了解确定)。
+ 评价标准主要通过混淆矩阵查看AUC，ROC，KS，recall,精确率，f1。
+ 最后，上述流程完成之后，我们主要从两个方面尝试提高模型效果。一，将多种类型的模型进行stacking形式的模型融合，二，继续特征工程，加入新的变量，新变量主要通过业务和机器学习两种方式构建，机器学习构造特征变量可以尝试CNN，业务构造特征变量尽量尝试构建动量比率变量。

## **2.3 构建无监督模型**
+ 没有明确规则，但是又很多和用户相关的数据，通过机器学习的方法，选取合适的算法，让算法从数据中总结规律，进行模式识别。
+ 首先需要重新对数据进行处理，我们需要从业务角度来划分几个维度，再从每个维度中构造出新的特征变量。
+ 然后运用聚类算法来对目标客户进行聚类，最后总结出每一个客户群的模式特征。(考虑有监督与无监督两类模型做交集或并集来提高模型效果，另外还考虑不同数据集合的特殊化，对有监督模型进行一个补充)。

# **3.项目方案逻辑图**
```graphLR
    model[有监督模型] -->|data| B[筛选,缺失值,切分]
    B --> C{parallel}
    C -->|linear| D[Logistic]
    C -->E{tree}
    E -->|bagging| F[randomforest]
    E -->|boosting| G[xgboost]
    C -->|deeplearning| H[类RNN]
    D --> I{stacking}
    F --> I{stacking}
    G --> I{stacking}
    H --> I{stacking}
    I --> |predict_data| J[vote]
```

```graphLR
    model[无监督模型] --> |data| B{多维度特征工程} 
    B --> C[kmeans]
    C --> D[客户分群]
    D --> |模式识别| E[可视化-雷达图]
```

```graphLR
    model_1[有监督模型] --> B{并集,交集}
    model_2[无监督模型] --> B{并集,交集}
    B --> C[提高模型效果]
```

# **4.项目开发流程**
```gantt
    title 项目开发流程
    dateFormat MM-DD
    section 项目确定
        需求分析       :active,06-10,2d
        项目方案     :active,06-11,1d
        数据准备       :06-12,1d
    section 项目实施
        logistic      :06-13,1d
        rf            :06-13,1d
        xgboost       :06-13,1d
        dp            :06-14,3d
        stacking        :06-17,1d
        kmeans        :06-18,1d
    section 发布验收
        发布: 06-19,1d
        验收: 06-19,1d
```

```graphLR
2019-06-10 --> 2019-06-11
2019-06-11 --> 2019-06-13
2019-06-13 --> 2019-06-14
2019-06-14 --> 2019-06-19
```




